<!DOCTYPE html>
<html>
    <link rel="stylesheet" href="adminpage.css">
    <script src="adminpage.js" ></script>
    
<head>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Admin Perpustakaan ITB</title>
</head>
<body>

<h1 class="header">
    <img src="logo-itb-512px.png" width="60" height="60" alt="logo itb"></img>
    <p class="judul"> UPT Perpustakaan ITB </p>
</h1>

<div class="tab">
  <button class="tablinks" onclick="openTable(event, 'Search')">Search</button>
  <button class="tablinks" onclick="openTable(event, 'Daftar Peminjaman')">Daftar Peminjaman</button>
  <button class="tablinks" onclick="openTable(event, 'Update Buku Jurnal')">Update Buku Jurnal</button>
</div>

<div id="Search" class="tabcontent">
    <fieldset id="corners">
        <legend>Search</legend>
        <div class="topnav">
            <span style="display: inline-flexbox">
                <input type="text" placeholder="Mencari Buku/Jurnal..." name="keyword" style="width: 30%; float: left">
                <button onclick="showtabel()"> submit </button>
            </span>
        </div><br>
        <p padding: 10px></p>
        Kategori
        <input list="bukuJurnal" name="bukuJurnal">
        <datalist id="bukuJurnal">
            <option value="Buku">
            <option value="Jurnal">
        </datalist>
        <p padding: 10px></p>
        Sort By
        <input list="sort" name="sort">
        <datalist id="sort">
            <option value="Author">
            <option value="Penerbit">
        </datalist>
        <p padding: 10px></p>
    </fieldset>
<!-- </form> -->

<!-- tabel hasil pencarian -->
    <table class="tabBuku" id="tabelBuku" style="display: none">
        <tr>
            <th>ISBN</th>
            <th>Judul Buku</th> 
            <th>Pengarang</th>
            <th>Penerbit</th>
            <th>Tahun Terbit</th>
            <th>Kategori</th>
            <th>Stok</th>
        </tr>
        <tr>
            <td>8120306023</td>
            <td>Introduction to electrodynamics</td>
            <td>GRIFFITHS, David J.</td>
            <td>Prentice Hall of India</td>
            <td>1995</td>
            <td>Not Available</td>
            <td>10</td>
            <td style="border-color: white;">
                <span style="display: inline-block">
                    <button id="dModal" onclick="showdetail()"> Detail</button>
                </span>
            </td>
        </tr>
    </table>
    <!-- Detail Modal -->
    <div id="detailModal" class="modal">
    <!-- Modal content -->
        <div class="modal-content">
            <span class="close">&times;</span>
            <p>Detail Buku</p>
        </div>
    </div>
</div>

<div id="Daftar Peminjaman" class="tabcontent">
    <h3>Daftar Peminjaman</h3>
    <!--Daftar Peminjaman-->
    <style>
            table#tabelPeminjaman tr:nth-child(even) { background-color:#f2f2f2; }
    </style>
    <table 
    style="border-collapse: collapse;
    border-spacing: 0;
    width: 100%;
    border: 1px solid #ddd;" class="tabPeminjaman" id="tabelPeminjaman" style="display: none">
        <tr>
            <th style=" text-align: left;padding: 16px;">ID Peminjaman</th>
            <th style=" text-align: left;padding: 16px;">NIM</th> 
            <th style=" text-align: left;padding: 16px;">Tanggal Peminjaman</th>
            <th style=" text-align: left;padding: 16px;">Tanggal Pengembalian</th>
            <th style=" text-align: left;padding: 16px;">Status Pengembalian</th>
            <th style=" text-align: left;padding: 16px;">Denda</th>
            <th style=" text-align: left;padding: 16px;">ISBN</th>
            <th style=" text-align: left;padding: 16px;">ID Jurnal</th>
            <th style=" text-align: left;padding: 16px;">Aktif</th>
        </tr>
        <tr>
            <td style=" text-align: left;padding: 16px;">8120306023</td>
            <td style=" text-align: left;padding: 16px;">18217048</td>
            <td style=" text-align: left;padding: 16px;">17 November 2019</td>
            <td style=" text-align: left;padding: 16px;">Not Available</td>
            <td style=" text-align: left;padding: 16px;">Belum Dikembalikan</td>
            <td style=" text-align: left;padding: 16px;">0</td>
            <td style=" text-align: left;padding: 16px;">8120306023</td>
            <td style=" text-align: left;padding: 16px;">8120306023</td>
            <td style=" text-align: left;padding: 16px;">Tidak Aktif</td>
        </tr>
    </table> 
</div>

<div id="Update Buku Jurnal" class="tabcontent">
    <div class="wrap">
        <div id="pilihan">
            <button id="buku" onclick="showformbuku(); disablejurnal();">Buku</button>
            <button id="jurnal" onclick="showformjurnal(); disablebuku();">Jurnal</button>
        </div>
    </div>
    <!--Form Buku-->
    <form id="formbuku" method="POST" action="http://localhost:3000/book" style="display:none">
        <label for="ISBN">ISBN</label>
        <input type="text" id="ISBN" name="ISBN" placeholder="ISBN">
          
        <label for="judulBuku">Judul Buku</label>
        <input type="text" name="Judul_Buku" placeholder="Judul Buku">

        <label for="Pengarang">Pengarang</label>
        <input type="text" id="Pengarang" name="Pengarang" placeholder="Nama Pengarang">

        <label for="Penerbit">Penerbit</label>
        <input type="text" id="Penerbit" name="Penerbit" placeholder="Nama Penerbit">

        <label for="tahunTerbit">Tahun Terbit</label>
        <input type="text" name="Tahun_Terbit" placeholder="Tahun Terbit">
        
          
        <label for="kategori">Kategori</label>
        <select name="Kategori">
            <option value="Infrastruktur">Infrastruktur</option>
            <option value="Arsitektur">Arsitektur</option>
            <option value="Teknologi">Teknologi</option>
        </select>

        <label for="sinopsis">Sinopsis</label>
        <input type="text" name="Sinopsis" placeholder="Tuliskan Sinopsis Buku ini">
        
        <label for="Stok_Buku">Stok</label>
        <input type="number" id="Stok_Buku" name="Stok_Buku" placeholder="Stok">
    
        <input type="submit" value="Submit">
        <div class="container" style="background-color:#f1f1f1">
            <button type="button" class="cancelbtn" onclick="hideformbuku();enablejurnal(); enablebuku()">Cancel</button>
        </div>
    </form>

    <!--Form Jurnal-->
    <form id="formjurnal" method="POST" action="http://localhost:3000/jurnal" style="display:none" >
        <label for="idJurnal">ID Jurnal</label>
        <input type="text" id="IDJurnal" name="IDJurnal" placeholder="Masukkan ID Jurnal">
          
        <label for="judulJurnal">Judul Jurnal</label>
        <input type="text" id="Judul_Jurnal" name="Judul_Jurnal" placeholder="Judul Jurnal">

        <label for="pengarangJurnal">Pengarang</label>
        <input type="text" id="Pengarang_Jurnal" name="Pengarang_Jurnal" placeholder="Nama Pengarang">

        <label for="Abstraksi">Abstraksi</label>
        <input type="text" id="Abstraksi" name="Abstraksi" placeholder="Tuliskan Abstraksi Jurnal ini">

        <label for="tahunTerbitJurnal">Tahun Terbit</label>
        <input type="text" id="Tahun_Terbit_Jurnal" name="Tahun_Terbit_Jurnal" placeholder="Tahun Terbit">
        
        <label for="statusJurnal">Status e-Journal</label>
        <input type="text" id="Status_e_jurnal" name="Status_e_jurnal" placeholder="Status e-Journal">
          
        <label for="kategoriJurnal">Kategori</label>
        <select id="Kategori_Jurnal" name="Kategori_Jurnal">
            <option value="Infrastruktur">Infrastruktur</option>
            <option value="Arsitektur">Arsitektur</option>
            <option value="Teknologi">Teknologi</option>
        </select>

        <label for="stokJurnal">Stok</label>
        <input type="number" id="Stok_Jurnal" name="Stok_Jurnal" placeholder="Stok">
          
        <input type="submit" value="Submit">
        <div class="container" style="background-color:#f1f1f1">
                <button type="button" class="cancelbtn" onclick="hideformjurnal(); enablejurnal(); enablebuku();">Cancel</button>
        </div>
    </form>  
</div>

<script>
$("#formbuku").submit(function(event){
    event.preventDefault(); //prevent default action 
    var post_url = $(this).attr("action"); //get form action url
    var request_method = $(this).attr("method"); //get form GET/POST method
	var form_data = $(this).serialize(); //Creates new FormData object
    $.ajax({
        url : post_url,
        type: request_method,
        data : form_data,
		contentType: false,
		cache: false,
		processData:false
    }).done(function(response){ //
        $("#server-results").html(response);
    });
});
$("#formjurnal").submit(function(event){
    event.preventDefault(); //prevent default action 
    var post_url = $(this).attr("action"); //get form action url
    var request_method = $(this).attr("method"); //get form GET/POST method
	var form_data = $(this).serialize(); //Creates new FormData object
    $.ajax({
        url : post_url,
        type: request_method,
        data : form_data,
		contentType: false,
		cache: false,
		processData:false
    }).done(function(response){ //
        $("#server-results").html(response);
    });
});
</script>

</body>
</html> 
